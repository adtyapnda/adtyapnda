<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aditya Panda</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bitcount+Prop+Single:wght@100..900&family=Michroma&family=Space+Grotesk:wght@300..700&display=swap" rel="stylesheet">
    
    <!-- Fixed Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- GSAP CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'bitcount': ['Bitcount Prop Single', 'monospace'],
                        'michroma': ['Michroma', 'sans-serif'],
                        'space-grotesk': ['Space Grotesk', 'sans-serif']
                    },
                    colors: {
                        'matte-black': '#121212',
                        'matte-white': '#f5f5f5',
                        'matte-gray-dark': '#1e1e1e',
                        'matte-gray-light': '#e0e0e0',
                        'matte-gray-medium': '#2a2a2a'
                    }
                }
            }
        }
    </script>
    <style>
        /* Apply Google Fonts everywhere */
        * {
            font-family: 'Space Grotesk', 'Bitcount Prop Single', 'Michroma', sans-serif !important;
        }
        
        /* Uniform matte black background for everything */
        html, body {
            background-color: #121212 !important;
            color: #f5f5f5 !important;
        }
        
        /* Custom smooth but slower scrolling */
        html {
            scroll-behavior: smooth;
            scroll-padding-top: 80px;
        }
        
        /* Glassy dock effect */
        .dock-item {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(245, 245, 245, 0.1) !important;
            border: 1px solid rgba(245, 245, 245, 0.2);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        
        .dock-item:hover {
            transform: scale(1.3) translateY(-10px);
            background: rgba(245, 245, 245, 0.2) !important;
        }
        
        /* Uniform dock icon color */
        .dock-item svg {
            color: #f5f5f5 !important;
        }
        
        .floating-header {
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            background-color: rgba(18, 18, 18, 0.8) !important;
        }
        
        /* FIXED: Prevent header logo cutoff with proper spacing */
        .header-logo {
            padding: 1.5rem 0 1.5rem 1.5rem !important;
            margin: 0 !important;
            width: auto !important;
            min-width: 220px !important;
            white-space: nowrap !important;
            overflow: visible !important;
            line-height: 1.4 !important;
            font-size: 1.25rem !important; /* Explicit font size */
        }
        
        .gradient-text {
            background: linear-gradient(135deg, #f5f5f5, #e0e0e0, #d0d0d0);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* FIXED: Hero title with proper line-height to prevent cutoff */
        .hero-title {
            opacity: 1 !important;
            animation: none !important;
            transition: none !important;
            line-height: 1.1 !important;
            padding: 0.5rem 0 !important;
            margin-bottom: 2rem !important;
        }
        
        /* FIXED: All main headings with proper spacing */
        .main-heading {
            line-height: 1.2 !important;
            padding: 1rem 0 !important;
            margin-bottom: 3rem !important;
            overflow: visible !important;
        }
        
        .project-card {
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            background-color: rgba(30, 30, 30, 0.6) !important;
        }
        
        /* Background image for entire hero section */
        .hero-section-bg {
            background-image: url('https://images.pexels.com/photos/1367192/pexels-photo-1367192.jpeg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            width: 100% !important;
            height: 100% !important;
            position: absolute !important;
            top: 0 !important;
            left: 0 !important;
            z-index: 0 !important;
        }
        
        /* Overlay for better text readability */
        .hero-bg-overlay {
            background: rgba(18, 18, 18, 0.80) !important;
            position: absolute !important;
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            height: 100% !important;
            z-index: 1 !important;
        }
        
        /* Make sure hero content is above background */
        .hero-content {
            position: relative !important;
            z-index: 10 !important;
            padding: 2rem 0 !important; /* Added padding */
        }
        
        /* Fix button visibility */
        .btn-primary {
            background-color: #f5f5f5 !important;
            color: #121212 !important;
            border: none !important;
        }
        
        .btn-primary:hover {
            background-color: #e0e0e0 !important;
            color: #121212 !important;
        }
        
        /* Force tech tags to be visible */
        .project-tech-tag {
            background-color: #f5f5f5 !important;
            color: #121212 !important;
            padding: 0.5rem 1rem !important;
            border-radius: 50px !important;
            font-weight: 600 !important;
            display: inline-block !important;
            margin: 0.25rem !important;
            border: 2px solid #f5f5f5 !important;
        }
        
        .social-link, .skill-tag {
            background-color: rgba(30, 30, 30, 0.8) !important;
            border-color: rgba(42, 42, 42, 0.8) !important;
        }
        
        .social-link:hover, .skill-tag:hover {
            background-color: rgba(42, 42, 42, 0.9) !important;
        }
        
        /* Enhanced dock container with slide animation */
        .dock-container {
            background: rgba(18, 18, 18, 0.4) !important;
            backdrop-filter: blur(20px) !important;
            -webkit-backdrop-filter: blur(20px) !important;
            border: 1px solid rgba(245, 245, 245, 0.1) !important;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3) !important;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
        }
        
        #dock {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
        }
        
        /* ScrollVelocity styles - Positioned between description and social links */
        .scroll-velocity-container {
            position: relative;
            width: 100vw;
            height: 150px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: space-around;
            z-index: 1;
            margin: 2rem 0;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .scroll-velocity-line {
            width: 100%;
            height: 60px;
            position: relative;
            display: flex;
            align-items: center;
        }
        
        .scroll-velocity-text {
            position: absolute;
            white-space: nowrap;
            font-size: 2.5rem;
            font-weight: bold;
            font-family: 'Space Grotesk', sans-serif !important;
            letter-spacing: -0.02em;
            color: #f5f5f5 !important; /* White text */
            text-transform: uppercase;
            opacity: 0.2;
        }
        
        /* Slower scroll velocity animations */
        .scroll-velocity-text.line-1 {
            animation: scroll-left 45s linear infinite;
        }
        
        .scroll-velocity-text.line-2 {
            animation: scroll-right 50s linear infinite;
        }
        
        @keyframes scroll-left {
            0% { transform: translateX(100vw); }
            100% { transform: translateX(-100%); }
        }
        
        @keyframes scroll-right {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100vw); }
        }
        
        /* FIXED: DecryptedText styles with proper spacing */
        .decrypted-text {
            display: block !important;
            text-align: center !important;
            width: 100% !important;
            line-height: 1.2 !important;
            padding: 1rem 0 !important;
            overflow: visible !important;
        }
        
        .decrypted-text .char {
            display: inline-block;
            transition: color 0.3s ease, opacity 0.3s ease;
            font-family: 'Michroma', sans-serif !important;
            line-height: 1.2 !important;
        }
        
        .decrypted-text .char.encrypted {
            color: #666 !important;
            opacity: 0.7;
        }
        
        .decrypted-text .char.revealed {
            background: linear-gradient(135deg, #f5f5f5, #e0e0e0, #d0d0d0) !important;
            -webkit-background-clip: text !important;
            background-clip: text !important;
            -webkit-text-fill-color: transparent !important;
            opacity: 1;
        }
        
        /* ClickSpark styles */
        .click-spark-container {
            position: relative;
            width: 100%;
            height: 100%;
        }
        
        .click-spark-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 10;
        }
        
        /* FIXED Masonry Photography Gallery Styles */
        .masonry-container {
            position: relative;
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            min-height: 800px; /* Give it a minimum height */
        }
        
        .masonry-item {
            position: absolute;
            cursor: pointer;
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s ease;
            opacity: 0;
            filter: blur(10px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
        }
        
        .masonry-item:hover {
            transform: scale(0.95);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }
        
        .masonry-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            border-radius: 12px;
        }
        
        .masonry-item.loaded {
            opacity: 1;
            filter: blur(0px);
        }
        
        /* FIXED: Photography heading animation styles with proper spacing */
        .photography-heading {
            display: block !important;
            text-align: center !important;
            width: 100% !important;
            line-height: 1.2 !important;
            padding: 1rem 0 !important;
            overflow: visible !important;
        }
        
        .photography-heading .char {
            display: inline-block;
            transition: color 0.3s ease, opacity 0.3s ease;
            font-family: 'Michroma', sans-serif !important;
            line-height: 1.2 !important;
        }
        
        .photography-heading .char.encrypted {
            color: #666 !important;
            opacity: 0.7;
        }
        
        .photography-heading .char.revealed {
            background: linear-gradient(135deg, #f5f5f5, #e0e0e0, #d0d0d0) !important;
            -webkit-background-clip: text !important;
            background-clip: text !important;
            -webkit-text-fill-color: transparent !important;
            opacity: 1;
        }
        
        /* FIXED: Section containers with proper padding */
        .section-container {
            padding: 3rem 0 !important;
            overflow: visible !important;
        }
        
        @media (max-width: 768px) {
            .scroll-velocity-text {
                font-size: 1.8rem;
            }
            .scroll-velocity-container {
                height: 100px;
                margin: 1.5rem 0;
            }
            .scroll-velocity-line {
                height: 40px;
            }
            
            .hero-title {
                line-height: 1.1 !important;
                padding: 1rem 0 !important;
            }
            
            .main-heading {
                line-height: 1.2 !important;
                padding: 0.75rem 0 !important;
                margin-bottom: 2rem !important;
            }
            
            .header-logo {
                padding: 1rem 0 1rem 1rem !important;
                font-size: 1.1rem !important;
            }
        }
    </style>
</head>
<body class="bg-matte-black text-matte-white font-space-grotesk">
    
    <!-- Header Navigation - UPDATED Connect Button -->
    <header class="floating-header fixed top-0 left-0 right-0 z-50 border-b border-matte-gray-dark/50">
        <nav class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
            <!-- Logo with proper spacing to prevent cutoff -->
            <div class="header-logo text-xl font-semibold gradient-text font-michroma">
                Aditya Panda
            </div>
            
            <!-- CTA Button - CHANGED to Connect -->
            <div class="flex items-center space-x-4">
                <button onclick="scrollToSection('contact')" class="btn-primary hidden md:block px-6 py-2 rounded-full transition-all duration-300 hover:scale-105 shadow-lg font-space-grotesk">
                    Connect
                </button>
            </div>
        </nav>
    </header>

    <!-- Hero Section with ClickSpark -->
    <section id="hero" class="click-spark-container relative min-h-screen pt-20 flex items-center justify-center overflow-hidden section-container">
        <canvas class="click-spark-canvas"></canvas>
        
        <!-- Background image div -->
        <div class="hero-section-bg"></div>
        
        <!-- Background Overlay -->
        <div class="hero-bg-overlay"></div>
        
        <!-- Floating Elements -->
        <div class="absolute inset-0 overflow-hidden z-2">
            <div class="absolute top-1/4 left-1/4 w-64 h-64 bg-matte-gray-dark/20 rounded-full blur-3xl opacity-50"></div>
            <div class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-matte-gray-dark/30 rounded-full blur-3xl opacity-50"></div>
            <div class="absolute top-1/2 right-1/3 w-32 h-32 bg-matte-gray-dark/15 rounded-full blur-2xl opacity-30"></div>
        </div>

        <!-- Hero content with no fade -->
        <div class="hero-content text-center max-w-6xl mx-auto px-6">
            <h1 class="hero-title text-5xl md:text-7xl lg:text-8xl font-light tracking-tight gradient-text font-michroma">
                Aditya Panda
            </h1>
            
            <p class="hero-subtitle text-xl md:text-2xl lg:text-3xl font-light text-gray-300 mb-4 font-space-grotesk">
                Electronics & Communication Engineering Student
            </p>
            
            <p class="hero-description text-lg text-gray-400 mb-8 max-w-3xl mx-auto leading-relaxed font-space-grotesk">
                Engineering at the edge of speed, circuits, and intelligence.
            </p>
            
            <div class="hero-cta flex flex-col sm:flex-row gap-4 justify-center">
                <button onclick="scrollToSection('projects')" class="btn-primary px-8 py-4 rounded-full transition-all duration-300 font-medium hover:scale-105 shadow-lg hover:shadow-xl font-space-grotesk">
                    View My Work
                </button>
                <button onclick="scrollToSection('contact')" class="px-8 py-4 bg-transparent border border-matte-gray-light text-matte-white rounded-full hover:bg-matte-gray-dark transition-all duration-300 font-medium hover:scale-105 font-space-grotesk">
                    Get In Touch
                </button>
            </div>
        </div>
    </section>

    <!-- About Section with ClickSpark - UPDATED with Image -->
    <section id="about" class="click-spark-container min-h-screen py-20 px-6 section-container" style="background-color: #121212 !important;">
        <canvas class="click-spark-canvas"></canvas>
        
        <div class="about-content max-w-6xl mx-auto">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
                <div>
                    <h2 class="text-4xl md:text-5xl lg:text-6xl font-light gradient-text font-michroma main-heading">
                        About Me
                    </h2>
                    <p class="text-lg text-gray-300 leading-relaxed mb-6 font-space-grotesk">
                       I'm Aditya Panda, an Electronics & Communication Engineering student at BVCOE, New Delhi (GGSIPU). I'm passionate about building systems that blur the line between hardware and intelligence â€” from autonomous robots to low-level embedded architectures.
                    </p>
                    <p class="text-lg text-gray-300 leading-relaxed mb-8 font-space-grotesk">
                       My interests span robotics, neuromorphic computing, signal processing, and the high-performance engineering behind Formula 1. I'm fascinated by how elegant design, fast decision-making, and tightly integrated systems come together
                    </p>
                    <div class="flex flex-wrap gap-3">
                        <span class="skill-tag px-4 py-2 rounded-full text-sm font-medium text-matte-white transition-all duration-300 cursor-default font-space-grotesk">
                            Neural Networks
                        </span>
                        <span class="skill-tag px-4 py-2 rounded-full text-sm font-medium text-matte-white transition-all duration-300 cursor-default font-space-grotesk">
                            Machine Learning & AI
                        </span>
                        <span class="skill-tag px-4 py-2 rounded-full text-sm font-medium text-matte-white transition-all duration-300 cursor-default font-space-grotesk">
                            Systems Engineering
                        </span>
                    </div>
                </div>
                <div class="relative">
                    <div class="aspect-square bg-matte-gray-dark/20 rounded-3xl p-8 backdrop-blur-sm border border-matte-gray-dark/30">
                        <!-- UPDATED - Added actual image instead of placeholder text -->
                        <div class="w-full h-full bg-matte-gray-dark rounded-2xl flex items-center justify-center relative overflow-hidden">
                            <img src="assets/photo12.png" 
                                 alt="Aditya Panda Profile Picture" 
                                 class="w-full h-full object-cover rounded-2xl">
                            <div class="absolute inset-0 bg-gradient-to-br from-gray-900/20 to-gray-900/10"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Projects Section with ClickSpark - UPDATED with Links and Removed Icons -->
    <section id="projects" class="click-spark-container min-h-screen py-20 px-6 section-container" style="background-color: #121212 !important;">
        <canvas class="click-spark-canvas"></canvas>
        
        <div class="projects-content max-w-7xl mx-auto">
            <!-- DecryptedText heading - starts encrypted -->
            <h2 id="featured-projects-heading" class="text-4xl md:text-5xl lg:text-6xl font-light decrypted-text font-michroma main-heading">
                Featured Projects
            </h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                <!-- Project 1: Conway's Game of Life - UPDATED -->
                <div class="project-card group rounded-2xl p-8 shadow-sm hover:shadow-2xl transition-all duration-500 border border-matte-gray-dark/50 hover:border-matte-gray-medium hover:-translate-y-2">
                    <!-- UPDATED - Removed icon overlay -->
                    <div class="aspect-video bg-matte-gray-dark/50 rounded-xl mb-6 flex items-center justify-center relative overflow-hidden">
                        <img src="assets/Conwayz.png" 
                             alt="Conway's Game of Life - Cellular Automaton Pattern" 
                             class="w-full h-full object-cover rounded-xl">
                    </div>
                    <h3 class="text-2xl font-semibold mb-4 group-hover:text-matte-white transition-colors duration-300 font-space-grotesk">
                        Conway's Game of Life
                    </h3>
                    <p class="text-gray-300 mb-6 leading-relaxed font-space-grotesk">
                        Conway's Game of Life is a zero-player simulation where cells on a grid live, die, or multiply based on simple rules. Over time, these rules create surprisingly complex and lifelike patterns. It's a classic example of emergent behavior in systems.
                    </p>
                    <div class="flex flex-wrap gap-2 mb-4">
                        <span class="project-tech-tag font-space-grotesk">HTML</span>
                        <span class="project-tech-tag font-space-grotesk">CSS</span>
                        <span class="project-tech-tag font-space-grotesk">JavaScript</span>
                    </div>
                    <!-- UPDATED - Added proper href link -->
                    <a href="https://conwayz.netlify.app/" target="_blank" class="text-matte-white hover:text-gray-300 font-medium flex items-center gap-2 transition-colors duration-300 font-space-grotesk">
                        View Project 
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                        </svg>
                    </a>
                </div>

                <!-- Project 2: ClarityAI - UPDATED -->
                <div class="project-card group rounded-2xl p-8 shadow-sm hover:shadow-2xl transition-all duration-500 border border-matte-gray-dark/50 hover:border-matte-gray-medium hover:-translate-y-2">
                    <!-- UPDATED - Removed icon overlay -->
                    <div class="aspect-video bg-matte-gray-dark/50 rounded-xl mb-6 flex items-center justify-center relative overflow-hidden">
                        <img src="assets/Clarity.png" 
                             alt="ClarityAI - AI Powered Speech Editor Interface" 
                             class="w-full h-full object-cover rounded-xl">
                    </div>
                    <h3 class="text-2xl font-semibold mb-4 group-hover:text-matte-white transition-colors duration-300 font-space-grotesk">
                       ClarityAI - An AI Powered Speech Editor.
                    </h3>
                    <p class="text-gray-300 mb-6 leading-relaxed font-space-grotesk">
                        ClarityAI is like Grammarly, but for voice.
We made a SaaS that helps creators and educators express themselves clearly without overediting. We integrated the API and connecting the LLMs behind the scenes to handle transcription and intelligent rewriting. Auth is brought by Clerk.
                    </p>
                    <div class="flex flex-wrap gap-2 mb-4">
                        <span class="project-tech-tag font-space-grotesk">Python</span>
                        <span class="project-tech-tag font-space-grotesk">React</span>
                        <span class="project-tech-tag font-space-grotesk">Tailwind CSS</span>
                    </div>
                    <!-- UPDATED - Added proper href link -->
                    <a href="https://clarityai2.netlify.app/" target="_blank" class="text-matte-white hover:text-gray-300 font-medium flex items-center gap-2 transition-colors duration-300 font-space-grotesk">
                        View Project 
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                        </svg>
                    </a>
                </div>

                <!-- Project 3: WhoWrites - UPDATED -->
                <div class="project-card group rounded-2xl p-8 shadow-sm hover:shadow-2xl transition-all duration-500 border border-matte-gray-dark/50 hover:border-matte-gray-medium hover:-translate-y-2">
                    <!-- UPDATED - Removed icon overlay -->
                    <div class="aspect-video bg-matte-gray-dark/50 rounded-xl mb-6 flex items-center justify-center relative overflow-hidden">
                        <img src="Whowrites.png" 
                             alt="WhoWrites - AI Persona Text Tool Interface" 
                             class="w-full h-full object-cover rounded-xl">
                    </div>
                    <h3 class="text-2xl font-semibold mb-4 group-hover:text-matte-white transition-colors duration-300 font-space-grotesk">
                        WhoWrites - Build Your Persona with AI
                    </h3>
                    <p class="text-gray-300 mb-6 leading-relaxed font-space-grotesk">
                       I built WhoWrites, which is another SaaS. WhoWrites is an AI based text exercise tool, allowing users to reword content via an assortment of a few quirky personas, such as a chirpy 8 year old or a naive character from Japan. On the backend, FastAPI is used, while TogetherAI's Mistral model does the rewriting.
                    </p>
                    <div class="flex flex-wrap gap-2 mb-4">
                        <span class="project-tech-tag font-space-grotesk">Python</span>
                        <span class="project-tech-tag font-space-grotesk">JavaScript</span>
                        <span class="project-tech-tag font-space-grotesk">CSS</span>
                    </div>
                    <!-- UPDATED - Added proper href link -->
                    <a href="https://whowrites.netlify.app/ " target="_blank" class="text-matte-white hover:text-gray-300 font-medium flex items-center gap-2 transition-colors duration-300 font-space-grotesk">
                        View Project 
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                        </svg>
                    </a>
                </div>

                <!-- Project 4: InteractJaipur - UPDATED -->
                <div class="project-card group rounded-2xl p-8 shadow-sm hover:shadow-2xl transition-all duration-500 border border-matte-gray-dark/50 hover:border-matte-gray-medium hover:-translate-y-2">
                    <!-- UPDATED - Removed icon overlay -->
                    <div class="aspect-video bg-matte-gray-dark/50 rounded-xl mb-6 flex items-center justify-center relative overflow-hidden">
                        <img src="https://media.discordapp.net/attachments/1385206938740199556/1385318497482965023/pexels-mrudula-thakur-256463-784879.jpg?ex=68944123&is=6892efa3&hm=42ef1f850b8fbbbac4098fbe07fe91aa7141458f763e6d4b2b0612d20a77b040&=&format=webp&width=2028&height=1352" 
                             alt="InteractJaipur - Interactive Map of Jaipur Districts" 
                             class="w-full h-full object-cover rounded-xl">
                    </div>
                    <h3 class="text-2xl font-semibold mb-4 group-hover:text-matte-white transition-colors duration-300 font-space-grotesk">
                        InteractJaipur
                    </h3>
                    <p class="text-gray-300 mb-6 leading-relaxed font-space-grotesk">
                        Built an interactive map that lets people hover over Jaipur's districts while revealing where to market your next chai startup. 
                        I led the project, designed the UI/UX, coded in JS & CSS, estimated data, and developed SVG based visualizations.
                    </p>
                    <div class="flex flex-wrap gap-2 mb-4">
                        <span class="project-tech-tag font-space-grotesk">JavaScript</span>
                        <span class="project-tech-tag font-space-grotesk">CSS</span>
                        <span class="project-tech-tag font-space-grotesk">HTML</span>
                    </div>
                    <!-- UPDATED - Added proper href link -->
                    <a href="https://interactjaipur.netlify.app/" target="_blank" class="text-matte-white hover:text-gray-300 font-medium flex items-center gap-2 transition-colors duration-300 font-space-grotesk">
                        View Project 
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Photography Section - FIXED WITH PROPER ANIMATION AND MASONRY -->
    <section id="photography" class="click-spark-container min-h-screen py-20 px-6 section-container" style="background-color: #121212 !important;">
        <canvas class="click-spark-canvas"></canvas>
        
        <div class="max-w-7xl mx-auto">
            <!-- Photography heading with DecryptedText animation -->
            <h2 id="photography-heading" class="text-4xl md:text-5xl lg:text-6xl font-light photography-heading font-michroma main-heading">
                Photography
            </h2>
            
            <!-- Masonry Container - FIXED -->
            <div id="masonry-gallery" class="masonry-container">
                <!-- Images will be dynamically inserted here -->
            </div>
        </div>
    </section>

    <!-- Contact Section with ClickSpark -->
    <section id="contact" class="click-spark-container min-h-screen py-20 px-6 flex flex-col items-center justify-center section-container" style="background-color: #121212 !important;">
        <canvas class="click-spark-canvas"></canvas>
        
        <div class="contact-content max-w-4xl mx-auto text-center">
            <h2 class="text-4xl md:text-5xl lg:text-6xl font-light gradient-text font-michroma main-heading">
                Let's Connect
            </h2>
            
            <p class="text-xl text-gray-300 mb-8 max-w-2xl mx-auto leading-relaxed font-space-grotesk">
                I'm always open to discussing new opportunities, collaborations, or just having a chat about technology and innovation.
            </p>
            
            <!-- ScrollVelocity Component - Positioned between description and social links -->
            <div class="scroll-velocity-container">
                <!-- Line 1 -->
                <div class="scroll-velocity-line">
                    <div class="scroll-velocity-text line-1">
                        Let's Connect &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Get In Touch &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Available for Work &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ready to Collaborate &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Let's Connect &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Get In Touch &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Available for Work &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ready to Collaborate
                    </div>
                </div>
                
                <!-- Line 2 -->
                <div class="scroll-velocity-line">
                    <div class="scroll-velocity-text line-2">
                        Contact Me &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Let's Build Something &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Drop a Message &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Scroll Down &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Contact Me &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Let's Build Something &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Drop a Message &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Scroll Down
                    </div>
                </div>
            </div>
            
            <div class="flex justify-center gap-8 mb-12">
                <a href="https://github.com/adtyapnda" target="_blank" class="social-link p-6 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-110 border border-matte-gray-dark/50 hover:border-matte-gray-medium group backdrop-blur-sm">
                    <svg class="w-8 h-8 text-gray-300 group-hover:text-matte-white transition-colors duration-300" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                    </svg>
                </a>
                <a href="https://linkedin.com/adtyapnda" target="_blank" class="social-link p-6 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-110 border border-matte-gray-dark/50 hover:border-matte-gray-medium group backdrop-blur-sm">
                    <svg class="w-8 h-8 text-gray-300 group-hover:text-matte-white transition-colors duration-300" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                    </svg>
                </a>
                <a href="mailto:adtyapnda@gmail.com" class="social-link p-6 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-110 border border-matte-gray-dark/50 hover:border-matte-gray-medium group backdrop-blur-sm">
                    <svg class="w-8 h-8 text-gray-300 group-hover:text-matte-white transition-colors duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                    </svg>
                </a>
            </div>
            
            <button onclick="downloadResume()" class="btn-primary px-10 py-4 rounded-full transition-all duration-300 font-medium hover:scale-105 shadow-lg hover:shadow-xl font-space-grotesk">
                Download Resume
            </button>
        </div>
    </section>

    <!-- macOS-style Dock Navigation - UPDATED WITH PHOTOGRAPHY BUTTON -->
    <div id="dock" class="fixed bottom-6 left-1/2 transform -translate-x-1/2 z-40">
        <div class="dock-container flex gap-2 px-4 py-3 rounded-2xl shadow-2xl">
            <div class="dock-item w-12 h-12 rounded-xl cursor-pointer flex items-center justify-center" onclick="scrollToSection('hero')" title="Home">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                </svg>
            </div>
            <div class="dock-item w-12 h-12 rounded-xl cursor-pointer flex items-center justify-center" onclick="scrollToSection('about')" title="About">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                </svg>
            </div>
            <div class="dock-item w-12 h-12 rounded-xl cursor-pointer flex items-center justify-center" onclick="scrollToSection('projects')" title="Projects">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14-4H3m0 8h16m-7-4v8a2 2 0 002 2h4"></path>
                </svg>
            </div>
            <!-- Photography Button -->
            <div class="dock-item w-12 h-12 rounded-xl cursor-pointer flex items-center justify-center" onclick="scrollToSection('photography')" title="Photography">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path>
                </svg>
            </div>
            <div class="dock-item w-12 h-12 rounded-xl cursor-pointer flex items-center justify-center" onclick="scrollToSection('contact')" title="Contact">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                </svg>
            </div>
        </div>
    </div>

    <script>
        // GSAP Animations
        gsap.registerPlugin(ScrollTrigger);

        // WORKING scroll function
        function scrollToSection(sectionId) {
            const element = document.getElementById(sectionId);
            if (element) {
                element.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        }

        // EXPANDED Photography Gallery Data
        const photographyItems = [
  { id: "1", img: "https://media.discordapp.net/attachments/1385206938740199556/1402564014059294791/image.png?ex=68945f07&is=68930d87&hm=1f0c44cbeec9671bffc5d16c0ead3f124703849b04d48b115ca288aebed71ab4&=&format=webp&quality=lossless&width=1570&height=1560", height: 400 },
  { id: "2", img: "https://media.discordapp.net/attachments/1385206938740199556/1402564076927713350/image.png?ex=68945f16&is=68930d96&hm=92f285bd78e35aabe71b632026c61da5b57ceb67d2882c9160f9a59c8db9b3df&=&format=webp&quality=lossless&width=1242&height=1560", height: 300 },
  { id: "3", img: "https://media.discordapp.net/attachments/1385206938740199556/1402564197623140393/image.png?ex=68945f33&is=68930db3&hm=9c09aa14544ad8fc62f08719b3b7b39ec64486d012e248271463abcfb03a1bc8&=&format=webp&quality=lossless&width=1572&height=1560", height: 500 },
  { id: "4", img: "https://media.discordapp.net/attachments/1385206938740199556/1402564240262430841/image.png?ex=68945f3d&is=68930dbd&hm=885584e0ba9ff49f0016a2b61eff7027d9e1b035455d451c09920c67742a4eb8&=&format=webp&quality=lossless&width=686&height=700", height: 350 },
  { id: "5", img: "https://media.discordapp.net/attachments/1385206938740199556/1402564315826884618/image.png?ex=68945f4f&is=68930dcf&hm=5305b787693cbaa3855d0c51906833d3892177c4bc3899135a88f95c8b1e721b&=&format=webp&quality=lossless&width=1572&height=1560", height: 450 },
  { id: "6", img: "https://media.discordapp.net/attachments/1385206938740199556/1402564397359955968/image.png?ex=68945f62&is=68930de2&hm=481e1d6d615627dc87695a934c239cab5f399199efb793f8fa8d12adb9aba945&=&format=webp&quality=lossless&width=1540&height=1560", height: 280 },
  { id: "7", img: "https://media.discordapp.net/attachments/1385206938740199556/1402564573600677938/image.png?ex=68945f8c&is=68930e0c&hm=8fd924785f4bf59b83dd8b7a0e7d21d6bf71a4516e443d67cd37cbc3b572e7c5&=&format=webp&quality=lossless&width=1534&height=1560", height: 380 },
  { id: "8", img: "https://media.discordapp.net/attachments/1385206938740199556/1402565747624116244/image.png?ex=689460a4&is=68930f24&hm=01dcfce9f83c628ae495eee5c62fc93b749963f793e8d0849c60191f038c4f29&=&format=webp&quality=lossless&width=1528&height=1560", height: 420 },
  { id: "9", img: "https://media.discordapp.net/attachments/1385206938740199556/1402566217000161311/image.png?ex=68946114&is=68930f94&hm=43da0788d384f250b50d96219cb03797075bdf51a3f1c075e80c70085250cfe3&=&format=webp&quality=lossless&width=654&height=700", height: 320 },
  { id: "10", img: "https://media.discordapp.net/attachments/1385206938740199556/1402566263649079376/image.png?ex=6894611f&is=68930f9f&hm=4d340db4b7b96cd2381d5000ce348a73033bc699214da87f732425469cd72b8b&=&format=webp&quality=lossless&width=1516&height=1560", height: 460 },
  { id: "11", img: "https://picsum.photos/id/1075/600/700?grayscale", height: 340 },
  { id: "12", img: "https://picsum.photos/id/1080/600/900?grayscale", height: 520 }
];

        // FIXED Masonry Gallery Class
        class MasonryGallery {
            constructor(container, items, options = {}) {
                this.container = container;
                this.items = items;
                this.options = {
                    ease: options.ease || 'power3.out',
                    duration: options.duration || 0.8,
                    stagger: options.stagger || 0.05,
                    animateFrom: options.animateFrom || 'bottom',
                    scaleOnHover: options.scaleOnHover !== false,
                    hoverScale: options.hoverScale || 0.95,
                    blurToFocus: options.blurToFocus !== false,
                    ...options
                };
                
                this.grid = [];
                this.imagesReady = false;
                this.resizeTimeout = null;
                
                console.log('MasonryGallery initialized with', items.length, 'items');
                this.init();
            }
            
            getColumns() {
                const width = window.innerWidth;
                if (width >= 1500) return 5;
                if (width >= 1200) return 4;
                if (width >= 800) return 3;
                if (width >= 500) return 2;
                return 1;
            }
            
            async init() {
                console.log('Starting masonry initialization...');
                this.setupContainer();
                await this.preloadImages();
                this.calculateGrid();
                this.renderItems();
                this.setupScrollTrigger();
                this.setupResize();
            }
            
            setupContainer() {
                this.container.style.position = 'relative';
                this.container.style.width = '100%';
                console.log('Container setup complete');
            }
            
            async preloadImages() {
                console.log('Preloading images...');
                const promises = this.items.map((item, index) => {
                    return new Promise(resolve => {
                        const img = new Image();
                        img.onload = () => {
                            console.log(`Image ${index + 1} loaded:`, item.img);
                            resolve();
                        };
                        img.onerror = () => {
                            console.error(`Image ${index + 1} failed to load:`, item.img);
                            resolve();
                        };
                        img.src = item.img;
                    });
                });
                
                await Promise.all(promises);
                this.imagesReady = true;
                console.log('All images preloaded');
            }
            
            calculateGrid() {
                const containerWidth = this.container.offsetWidth;
                if (containerWidth === 0) {
                    console.error('Container width is 0');
                    return;
                }
                
                const columns = this.getColumns();
                const columnWidth = containerWidth / columns;
                const gap = 15;
                const colHeights = new Array(columns).fill(0);
                
                console.log(`Calculating grid: ${columns} columns, ${columnWidth}px each`);
                
                this.grid = this.items.map((item, index) => {
                    const col = colHeights.indexOf(Math.min(...colHeights));
                    const x = (columnWidth * col) + (gap * col);
                    const scaledHeight = (item.height * (columnWidth - gap)) / 600; // Scale based on width
                    const y = colHeights[col];
                    
                    colHeights[col] += scaledHeight + gap;
                    
                    return { 
                        ...item, 
                        x, 
                        y, 
                        w: columnWidth - gap, 
                        h: scaledHeight,
                        col,
                        index 
                    };
                });
                
                // Set container height
                const maxHeight = Math.max(...colHeights);
                this.container.style.height = `${maxHeight}px`;
                console.log(`Grid calculated. Container height: ${maxHeight}px`);
            }
            
            renderItems() {
                console.log('Rendering items...');
                this.container.innerHTML = ''; // Clear container
                
                this.grid.forEach((item, index) => {
                    const element = document.createElement('div');
                    element.className = 'masonry-item';
                    element.setAttribute('data-id', item.id);
                    element.setAttribute('data-index', index);
                    element.style.cssText = `
                        left: ${item.x}px;
                        top: ${item.y}px;
                        width: ${item.w}px;
                        height: ${item.h}px;
                        position: absolute;
                        cursor: pointer;
                        border-radius: 12px;
                        overflow: hidden;
                        opacity: 0;
                        transform: translateY(50px);
                        filter: blur(10px);
                    `;
                    
                    const img = document.createElement('img');
                    img.src = item.img;
                    img.alt = `Photo ${item.id}`;
                    img.style.cssText = `
                        width: 100%;
                        height: 100%;
                        object-fit: cover;
                        border-radius: 12px;
                        display: block;
                    `;
                    
                    element.appendChild(img);
                    
                    // Add click handler
                    element.addEventListener('click', () => {
                        window.open(item.url, '_blank', 'noopener');
                    });
                    
                    // Add hover effects
                    if (this.options.scaleOnHover) {
                        element.addEventListener('mouseenter', () => {
                            gsap.to(element, {
                                scale: this.options.hoverScale,
                                duration: 0.3,
                                ease: 'power2.out'
                            });
                        });
                        
                        element.addEventListener('mouseleave', () => {
                            gsap.to(element, {
                                scale: 1,
                                duration: 0.3,
                                ease: 'power2.out'
                            });
                        });
                    }
                    
                    this.container.appendChild(element);
                });
                
                console.log(`Rendered ${this.grid.length} items`);
            }
            
            setupScrollTrigger() {
                const items = this.container.querySelectorAll('.masonry-item');
                console.log('Setting up scroll trigger for', items.length, 'items');
                
                // Use GSAP ScrollTrigger for better performance
                gsap.fromTo(items, 
                    {
                        opacity: 0,
                        y: 50,
                        filter: 'blur(10px)'
                    },
                    {
                        opacity: 1,
                        y: 0,
                        filter: 'blur(0px)',
                        duration: this.options.duration,
                        stagger: this.options.stagger,
                        ease: this.options.ease,
                        scrollTrigger: {
                            trigger: '#photography',
                            start: 'top 70%',
                            toggleActions: 'play none none reverse'
                        }
                    }
                );
            }
            
            setupResize() {
                window.addEventListener('resize', () => {
                    clearTimeout(this.resizeTimeout);
                    this.resizeTimeout = setTimeout(() => {
                        console.log('Handling resize...');
                        this.calculateGrid();
                        this.renderItems();
                        this.setupScrollTrigger();
                    }, 250);
                });
            }
        }

        // Initialize Masonry Gallery
        function initPhotographyGallery() {
            console.log('Initializing photography gallery...');
            const galleryContainer = document.getElementById('masonry-gallery');
            
            if (!galleryContainer) {
                console.error('Gallery container not found!');
                return;
            }
            
            if (photographyItems.length === 0) {
                console.error('No photography items found!');
                return;
            }
            
            // Wait a bit for the container to be properly sized
            setTimeout(() => {
                new MasonryGallery(galleryContainer, photographyItems, {
                    ease: 'power3.out',
                    duration: 0.8,
                    stagger: 0.05,
                    animateFrom: 'bottom',
                    scaleOnHover: true,
                    hoverScale: 0.95,
                    blurToFocus: true
                });
            }, 100);
        }

        // ClickSpark Class - Converted from React to Vanilla JS
        class ClickSpark {
            constructor(container, options = {}) {
                this.container = container;
                this.canvas = container.querySelector('.click-spark-canvas');
                this.ctx = this.canvas.getContext('2d');
                
                this.options = {
                    sparkColor: options.sparkColor || '#fff',
                    sparkSize: options.sparkSize || 10,
                    sparkRadius: options.sparkRadius || 15,
                    sparkCount: options.sparkCount || 8,
                    duration: options.duration || 400,
                    easing: options.easing || 'ease-out',
                    extraScale: options.extraScale || 1.0
                };
                
                this.sparks = [];
                this.animationId = null;
                
                this.init();
            }
            
            init() {
                this.resizeCanvas();
                this.setupEventListeners();
                this.startAnimationLoop();
                
                // Resize observer
                if (window.ResizeObserver) {
                    this.resizeObserver = new ResizeObserver(() => {
                        this.resizeCanvas();
                    });
                    this.resizeObserver.observe(this.container);
                }
            }
            
            resizeCanvas() {
                const rect = this.container.getBoundingClientRect();
                this.canvas.width = rect.width;
                this.canvas.height = rect.height;
            }
            
            setupEventListeners() {
                this.container.addEventListener('click', (e) => {
                    this.handleClick(e);
                });
            }
            
            easeFunc(t) {
                switch (this.options.easing) {
                    case 'linear':
                        return t;
                    case 'ease-in':
                        return t * t;
                    case 'ease-in-out':
                        return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;
                    default: // ease-out
                        return t * (2 - t);
                }
            }
            
            handleClick(e) {
                const rect = this.canvas.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                const now = performance.now();
                const newSparks = Array.from({ length: this.options.sparkCount }, (_, i) => ({
                    x,
                    y,
                    angle: (2 * Math.PI * i) / this.options.sparkCount,
                    startTime: now
                }));
                
                this.sparks.push(...newSparks);
            }
            
            startAnimationLoop() {
                const animate = (timestamp) => {
                    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                    
                    this.sparks = this.sparks.filter((spark) => {
                        const elapsed = timestamp - spark.startTime;
                        if (elapsed >= this.options.duration) {
                            return false;
                        }
                        
                        const progress = elapsed / this.options.duration;
                        const eased = this.easeFunc(progress);
                        
                        const distance = eased * this.options.sparkRadius * this.options.extraScale;
                        const lineLength = this.options.sparkSize * (1 - eased);
                        
                        const x1 = spark.x + distance * Math.cos(spark.angle);
                        const y1 = spark.y + distance * Math.sin(spark.angle);
                        const x2 = spark.x + (distance + lineLength) * Math.cos(spark.angle);
                        const y2 = spark.y + (distance + lineLength) * Math.sin(spark.angle);
                        
                        this.ctx.strokeStyle = this.options.sparkColor;
                        this.ctx.lineWidth = 2;
                        this.ctx.beginPath();
                        this.ctx.moveTo(x1, y1);
                        this.ctx.lineTo(x2, y2);
                        this.ctx.stroke();
                        
                        return true;
                    });
                    
                    this.animationId = requestAnimationFrame(animate);
                };
                
                this.animationId = requestAnimationFrame(animate);
            }
            
            destroy() {
                if (this.animationId) {
                    cancelAnimationFrame(this.animationId);
                }
                if (this.resizeObserver) {
                    this.resizeObserver.disconnect();
                }
            }
        }

        // Initialize ClickSpark for all sections
        function initClickSparks() {
            const containers = document.querySelectorAll('.click-spark-container');
            
            containers.forEach(container => {
                new ClickSpark(container, {
                    sparkColor: '#fff',
                    sparkSize: 10,
                    sparkRadius: 15,
                    sparkCount: 8,
                    duration: 400,
                    easing: 'ease-out',
                    extraScale: 1.0
                });
            });
        }

        // FIXED DecryptedText - Starts encrypted, reveals on scroll
        function initDecryptedText() {
            const element = document.getElementById('featured-projects-heading');
            if (!element) {
                console.error('Featured projects heading not found!');
                return;
            }

            const originalText = "Featured Projects";
            const characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ!@#$%^&*()_+0123456789";
            let hasAnimated = false;
            
            console.log('DecryptedText initialized for:', originalText);

            // Set up text with character spans and IMMEDIATE scrambling
            function setupEncryptedText() {
                const spans = originalText.split('').map((char, index) => {
                    // Start with random characters immediately (except spaces)
                    const initialChar = char === ' ' ? '&nbsp;' : characters[Math.floor(Math.random() * characters.length)];
                    return `<span class="char encrypted" data-index="${index}">${initialChar}</span>`;
                }).join('');
                element.innerHTML = spans;
                
                console.log('Text initialized as encrypted');
            }

            // Start the decryption animation
            function startDecryption() {
                if (hasAnimated) return;
                hasAnimated = true;
                
                console.log('Starting decryption animation');
                
                const charElements = element.querySelectorAll('.char');
                const revealedIndices = new Set();
                let iteration = 0;
                const maxIterations = 25;
                
                const interval = setInterval(() => {
                    // Continue scrambling unrevealed characters
                    charElements.forEach((char, index) => {
                        if (!revealedIndices.has(index) && originalText[index] !== ' ') {
                            const randomChar = characters[Math.floor(Math.random() * characters.length)];
                            char.textContent = randomChar;
                        }
                    });
                    
                    // Reveal 1-2 characters from center outward each iteration
                    const unrevealedIndices = [];
                    for (let i = 0; i < originalText.length; i++) {
                        if (!revealedIndices.has(i) && originalText[i] !== ' ') {
                            unrevealedIndices.push(i);
                        }
                    }
                    
                    // Reveal from center outward
                    if (unrevealedIndices.length > 0) {
                        const centerIndex = Math.floor(unrevealedIndices.length / 2);
                        const indexToReveal = unrevealedIndices[centerIndex];
                        
                        revealedIndices.add(indexToReveal);
                        const char = charElements[indexToReveal];
                        char.textContent = originalText[indexToReveal];
                        char.classList.remove('encrypted');
                        char.classList.add('revealed');
                        
                        console.log('Revealed character:', originalText[indexToReveal]);
                    }
                    
                    iteration++;
                    
                    // End animation
                    if (iteration >= maxIterations || revealedIndices.size >= originalText.replace(/\s/g, '').length) {
                        clearInterval(interval);
                        
                        // Ensure all characters are revealed with gradient
                        charElements.forEach((char, index) => {
                            char.textContent = originalText[index] === ' ' ? '\u00A0' : originalText[index];
                            char.classList.remove('encrypted');
                            char.classList.add('revealed');
                        });
                        
                        console.log('Decryption animation completed');
                    }
                }, 100); // Slightly slower for better visual effect
            }

            // Set up intersection observer for scroll trigger
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        console.log('Projects section came into view - starting decryption');
                        setTimeout(startDecryption, 200); // Small delay for effect
                        observer.disconnect(); // Only animate once
                    }
                });
            }, {
                threshold: 0.3,
                rootMargin: '0px 0px -50px 0px'
            });

            // Initialize with encrypted text
            setupEncryptedText();
            observer.observe(element);
        }

        // ADDED DecryptedText for Photography heading
        function initPhotographyDecryptedText() {
            const element = document.getElementById('photography-heading');
            if (!element) {
                console.error('Photography heading not found!');
                return;
            }

            const originalText = "Photography";
            const characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ!@#$%^&*()_+0123456789";
            let hasAnimated = false;
            
            console.log('Photography DecryptedText initialized for:', originalText);

            // Set up text with character spans and IMMEDIATE scrambling
            function setupEncryptedText() {
                const spans = originalText.split('').map((char, index) => {
                    // Start with random characters immediately (except spaces)
                    const initialChar = char === ' ' ? '&nbsp;' : characters[Math.floor(Math.random() * characters.length)];
                    return `<span class="char encrypted" data-index="${index}">${initialChar}</span>`;
                }).join('');
                element.innerHTML = spans;
                
                console.log('Photography text initialized as encrypted');
            }

            // Start the decryption animation
            function startDecryption() {
                if (hasAnimated) return;
                hasAnimated = true;
                
                console.log('Starting photography decryption animation');
                
                const charElements = element.querySelectorAll('.char');
                const revealedIndices = new Set();
                let iteration = 0;
                const maxIterations = 25;
                
                const interval = setInterval(() => {
                    // Continue scrambling unrevealed characters
                    charElements.forEach((char, index) => {
                        if (!revealedIndices.has(index) && originalText[index] !== ' ') {
                            const randomChar = characters[Math.floor(Math.random() * characters.length)];
                            char.textContent = randomChar;
                        }
                    });
                    
                    // Reveal 1-2 characters from center outward each iteration
                    const unrevealedIndices = [];
                    for (let i = 0; i < originalText.length; i++) {
                        if (!revealedIndices.has(i) && originalText[i] !== ' ') {
                            unrevealedIndices.push(i);
                        }
                    }
                    
                    // Reveal from center outward
                    if (unrevealedIndices.length > 0) {
                        const centerIndex = Math.floor(unrevealedIndices.length / 2);
                        const indexToReveal = unrevealedIndices[centerIndex];
                        
                        revealedIndices.add(indexToReveal);
                        const char = charElements[indexToReveal];
                        char.textContent = originalText[indexToReveal];
                        char.classList.remove('encrypted');
                        char.classList.add('revealed');
                        
                        console.log('Revealed photography character:', originalText[indexToReveal]);
                    }
                    
                    iteration++;
                    
                    // End animation
                    if (iteration >= maxIterations || revealedIndices.size >= originalText.replace(/\s/g, '').length) {
                        clearInterval(interval);
                        
                        // Ensure all characters are revealed with gradient
                        charElements.forEach((char, index) => {
                            char.textContent = originalText[index] === ' ' ? '\u00A0' : originalText[index];
                            char.classList.remove('encrypted');
                            char.classList.add('revealed');
                        });
                        
                        console.log('Photography decryption animation completed');
                    }
                }, 100);
            }

            // Set up intersection observer for scroll trigger
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        console.log('Photography section came into view - starting decryption');
                        setTimeout(startDecryption, 200);
                        observer.disconnect(); // Only animate once
                    }
                });
            }, {
                threshold: 0.3,
                rootMargin: '0px 0px -50px 0px'
            });

            // Initialize with encrypted text
            setupEncryptedText();
            observer.observe(element);
        }

        // Initialize everything when page loads
        window.addEventListener('load', () => {
            console.log('Page loaded, initializing all components...');
            
            // Initialize ClickSpark effects
            initClickSparks();
            
            // Initialize DecryptedText - starts encrypted
            initDecryptedText();
            
            // Initialize Photography DecryptedText
            initPhotographyDecryptedText();

            // Initialize Photography Gallery
            initPhotographyGallery();

            // Hero section animations WITHOUT fade
            gsap.set('.hero-title', { opacity: 1 });
            
            gsap.timeline()
                .fromTo('.hero-subtitle', 
                    { opacity: 0, y: 50 },
                    { opacity: 1, y: 0, duration: 1, ease: 'power3.out' }
                )
                .fromTo('.hero-description', 
                    { opacity: 0, y: 30 },
                    { opacity: 1, y: 0, duration: 0.8, ease: 'power3.out' }, 
                    '-=0.6'
                )
                .fromTo('.hero-cta', 
                    { opacity: 0, scale: 0.8 },
                    { opacity: 1, scale: 1, duration: 0.6, ease: 'back.out(1.7)' }, 
                    '-=0.4'
                );

            // About section reveal
            gsap.fromTo('.about-content', 
                { opacity: 0, y: 100 },
                {
                    opacity: 1,
                    y: 0,
                    duration: 1,
                    ease: 'power3.out',
                    scrollTrigger: {
                        trigger: '#about',
                        start: 'top 80%',
                        end: 'bottom 20%',
                        toggleActions: 'play none none reverse'
                    }
                }
            );

            // Skill tags stagger animation
            gsap.fromTo('.skill-tag', 
                { opacity: 0, y: 20 },
                {
                    opacity: 1,
                    y: 0,
                    duration: 0.5,
                    stagger: 0.1,
                    ease: 'power2.out',
                    scrollTrigger: {
                        trigger: '.skill-tag',
                        start: 'top 85%',
                        toggleActions: 'play none none reverse'
                    }
                }
            );

            // Projects section reveal
            gsap.fromTo('.project-card', 
                { opacity: 0, y: 80, scale: 0.95 },
                {
                    opacity: 1,
                    y: 0,
                    scale: 1,
                    duration: 0.8,
                    stagger: 0.2,
                    ease: 'power3.out',
                    scrollTrigger: {
                        trigger: '#projects',
                        start: 'top 75%',
                        end: 'bottom 25%',
                        toggleActions: 'play none none reverse'
                    }
                }
            );

            // Contact section reveal
            gsap.fromTo('.contact-content',
                { opacity: 0, y: 80 },
                {
                    opacity: 1,
                    y: 0,
                    duration: 1,
                    ease: 'power3.out',
                    scrollTrigger: {
                        trigger: '#contact',
                        start: 'top 80%',
                        end: 'bottom 20%',
                        toggleActions: 'play none none reverse'
                    }
                }
            );

            // Social links stagger animation
            gsap.fromTo('.social-link',
                { opacity: 0, scale: 0.8, y: 30 },
                {
                    opacity: 1,
                    scale: 1,
                    y: 0,
                    duration: 0.6,
                    stagger: 0.1,
                    ease: 'back.out(1.7)',
                    scrollTrigger: {
                        trigger: '.social-link',
                        start: 'top 85%',
                        toggleActions: 'play none none reverse'
                    }
                }
            );

            // Dock entrance animation
            gsap.fromTo('#dock',
                { opacity: 0, y: 100 },
                { opacity: 1, y: 0, duration: 1, ease: 'back.out(1.7)', delay: 0 }
            );
        });

        // Resume download function
        function downloadResume() {
            alert('Aditya Panda is yet to upload his resume. Please check Linkedin instead!');
        }

        // Dock hover effects
        const dockItems = document.querySelectorAll('.dock-item');
        dockItems.forEach(item => {
            item.addEventListener('mouseenter', () => {
                gsap.to(item, { scale: 1.3, y: -8, duration: 0.3, ease: 'back.out(1.7)' });
            });
            
            item.addEventListener('mouseleave', () => {
                gsap.to(item, { scale: 1, y: 0, duration: 0.3, ease: 'back.out(1.7)' });
            });
        });

        // Enhanced ScrollVelocity effect with scroll interaction AND dock slide functionality
        let scrollSpeed = 1;
        window.addEventListener('scroll', () => {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const scrollHeight = document.body.scrollHeight - window.innerHeight;
            const scrollPercent = scrollTop / scrollHeight;
            
            // Update scroll velocity
            scrollSpeed = 1 + (scrollPercent * 2);
            
            const line1 = document.querySelector('.scroll-velocity-text.line-1');
            const line2 = document.querySelector('.scroll-velocity-text.line-2');
            
            if (line1 && line2) {
                line1.style.animationDuration = `${45 / scrollSpeed}s`;
                line2.style.animationDuration = `${50 / scrollSpeed}s`;
            }
            
            // NEW: Dock slide down functionality when reaching end of page
            const windowHeight = window.innerHeight;
            const docHeight = document.documentElement.scrollHeight;
            const dock = document.getElementById('dock');
            
            if (!dock) return;
            
            // Check if near the bottom (within 100px of the end)
            if (scrollTop + windowHeight >= docHeight - 100) {
                // Slide dock down (hide with smooth transition)
                dock.style.transform = 'translate(-50%, 100px)';
                dock.style.opacity = '0.3';
                dock.style.transition = 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)';
            } else {
                // Slide dock up (show)
                dock.style.transform = 'translate(-50%, 0)';
                dock.style.opacity = '1';
                dock.style.transition = 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)';
            }
        });
    </script>
</body>
</html>
